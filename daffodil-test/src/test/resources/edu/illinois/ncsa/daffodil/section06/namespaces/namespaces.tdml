<?xml version="1.0" encoding="UTF-8"?>
<testSuite suiteName="Namespaces"
  xmlns="http://www.ibm.com/xmlns/dfdl/testData" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xmlns:ct="http://w3.ibm.com/xmlns/dfdl/ctInfoset" xmlns:tdml="http://www.ibm.com/xmlns/dfdl/testData">

  <tdml:parserTestCase name="Lesson2_no_namespace" root="address"
    model="address_no_namespace.dfdl.xsd" description="dfdl namespace - DFDL-6-002R">
    <tdml:document><![CDATA[118*Ridgewood Circle*Rochester*NY]]></tdml:document>
    <tdml:infoset>
      <tdml:dfdlInfoset>
        <address> 
          <houseNumber>118</houseNumber>
          <street>Ridgewood Circle</street>
          <city>Rochester</city>
          <state>NY</state>
          </address>
      </tdml:dfdlInfoset>
    </tdml:infoset>
  </tdml:parserTestCase>
  
  <!--
    Test name: Lesson2_include_schema
       Schema: customer_no_namespace.dfdl.xsd
         Root: customer
      Purpose: This test demonstrates the use of xs:include to include external schemas. In this case an element in the customer
               sequence is a reference to the "address" element in the external schema.
  -->
 
  <tdml:parserTestCase name="Lesson2_include_schema" root="customer"
    model="customer_no_namespace.dfdl.xsd" description="include a schema - DFDL-6-007R">
    <tdml:document><![CDATA[James*River*118*Ridgewood Circle*Rochester*NY]]></tdml:document>
    <tdml:infoset>
      <tdml:dfdlInfoset>
        <customer>
          <firstName>James</firstName>
          <surname>River</surname>
          <address> 
            <houseNumber>118</houseNumber>
            <street>Ridgewood Circle</street>
            <city>Rochester</city>
            <state>NY</state>
          </address>
        </customer>
      </tdml:dfdlInfoset>
    </tdml:infoset>
  </tdml:parserTestCase>
  
  <!--
    Test name: Lesson2_import_schema
       Schema: customer_namespace.dfdl.xsd
         Root: customer
      Purpose: This test demonstrates the use of xs:import to include external schemas. In this case an element in the customer
               sequence is a reference to the "address" element in the external schema.
  -->
  
  <tdml:parserTestCase name="Lesson2_import_schema" root="customer"
    model="customer_namespace.dfdl.xsd" description="import a schema - DFDL-6-007R">
    <tdml:document><![CDATA[James*River*118*Ridgewood Circle*Rochester*NY]]></tdml:document>
    <tdml:infoset>
      <tdml:dfdlInfoset>
        <customer>
          <firstName>James</firstName>
          <surname>River</surname>
          <address> 
            <houseNumber>118</houseNumber>
            <street>Ridgewood Circle</street>
            <city>Rochester</city>
            <state>NY</state>
          </address>
        </customer>
      </tdml:dfdlInfoset>
    </tdml:infoset>
  </tdml:parserTestCase>
  
  <!--
    Test name: multifile_cyclical
       Schema: customer_namespace.dfdl.xsd
         Root: customer
      Purpose: This test demonstrates the use of xs:import to create an infinite loop. The loop should be caught
               and an error should be thrown.
  -->
  
  <tdml:parserTestCase name="multifile_cyclical" root="elem"
    model="cycle_base.dfdl.xsd" description="import a schema - DFDL-6-007R">
    <tdml:document><![CDATA[1234]]></tdml:document>
    <tdml:errors>
      <tdml:error/>
    </tdml:errors>
  </tdml:parserTestCase>

</testSuite>
