<?xml version="1.0" encoding="UTF-8"?>
<tdml:testSuite suiteName="DelimitedTests" description="Section 12 - lengthKind=delimited"
	xmlns:tdml="http://www.ibm.com/xmlns/dfdl/testData" 
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:dfdl="http://www.ogf.org/dfdl/dfdl-1.0/"
	xmlns:xs="http://www.w3.org/2001/XMLSchema"
	xmlns:ct="http://w3.ibm.com/xmlns/dfdl/ctInfoset" 
	xsi:schemaLocation="http://www.ibm.com/xmlns/dfdl/testData /xsd/tdml.xsd">

	<tdml:defineSchema name="lengthKindDelimited-Embedded.dfdl.xsd">
		
		
			<dfdl:format lengthKind="delimited" lengthUnits="bytes" encoding="UTF-8" separator="" initiator="" terminator=""
		       		occursCountKind="parsed" ignoreCase="no" textNumberRep="standard" representation="text" />
		
		<xs:element name="NS_01">
		<xs:complexType>
			<xs:sequence dfdl:initiatedContent="no" dfdl:separatorPosition="infix"
				dfdl:separator="," dfdl:separatorPolicy="suppressed" dfdl:terminator="%NL;">
				<xs:element name="num" type="xs:int" maxOccurs="unbounded"/>	
			</xs:sequence>
		</xs:complexType>
		</xs:element>
		
		<xs:element name="NS_03">
		<xs:complexType>
			<xs:sequence dfdl:initiatedContent="no" dfdl:separatorPosition="infix"
				dfdl:separator="," dfdl:separatorPolicy="suppressed">
				<xs:element name="num" type="xs:int" maxOccurs="unbounded"/>	
			</xs:sequence>
		</xs:complexType>
		</xs:element>
		
	      <xs:element name="NS_04" dfdl:lengthKind="implicit">
	        <xs:complexType>
	          <xs:sequence>
	            <xs:element name="num1" type="xs:int" dfdl:lengthKind="delimited" maxOccurs="unbounded" dfdl:terminator=";"/>
	            <xs:element name="num2" type="xs:int" dfdl:lengthKind="delimited" dfdl:terminator="."/>
	          </xs:sequence>
	        </xs:complexType>
	      </xs:element>
		
		<xs:element name="e_01" type="error01Type" dfdl:lengthKind="implicit"/>
		<xs:complexType name="error01Type">
			<xs:sequence dfdl:separator="%NL;" dfdl:separatorPolicy="suppressed">
				<xs:element name="row" maxOccurs="unbounded" dfdl:lengthKind="implicit">
					<xs:complexType>
						<xs:sequence dfdl:separator=",">
							<xs:element name="cell" type="xs:int" minOccurs="4" maxOccurs="unbounded" dfdl:textNumberRep="standard"
								dfdl:lengthKind="delimited" />
						</xs:sequence>
					</xs:complexType>
				</xs:element>
			</xs:sequence>
		</xs:complexType>
		
		<xs:element name="delim_01" dfdl:lengthKind="delimited">
	        <xs:complexType>
	          <xs:sequence dfdl:separator="%WSP;%WSP+;+%NL;%WSP*;" dfdl:separatorPosition="infix">
	      		<xs:element name="s1" type="xs:string" dfdl:lengthKind="delimited" />
	      		<xs:element name="s2" type="xs:string" dfdl:lengthKind="delimited" />
	          </xs:sequence>
	        </xs:complexType>
        </xs:element>
		
	</tdml:defineSchema>
 
	<tdml:parserTestCase name="NumSeq_01" root="NS_01"
		model="lengthKindDelimited-Embedded.dfdl.xsd" description="Section 12 lengthKind-delimited - DFDL-12-048R">

		<tdml:document>1,2,3,4,5,6
		</tdml:document>
		<tdml:infoset>
			<tdml:dfdlInfoset xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
				<NS_01>
					<num>1</num>
					<num>2</num>
					<num>3</num>
					<num>4</num>
					<num>5</num>
					<num>6</num>
				</NS_01>
			</tdml:dfdlInfoset>
		</tdml:infoset>
	</tdml:parserTestCase>
	
	<tdml:parserTestCase name="NumSeq_03" root="NS_03"
		model="lengthKindDelimited-Embedded.dfdl.xsd" description="Section 12 lengthKind-delimited - DFDL-12-045R">

		<tdml:document>1,2,3,4,5,6</tdml:document>
		<tdml:infoset>
			<tdml:dfdlInfoset xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
				<NS_03>
					<num>1</num>
					<num>2</num>
					<num>3</num>
					<num>4</num>
					<num>5</num>
					<num>6</num>
				</NS_03>
			</tdml:dfdlInfoset>
		</tdml:infoset>
	</tdml:parserTestCase>
	
	<tdml:parserTestCase name="NumSeq_04" root="NS_04"
		model="lengthKindDelimited-Embedded.dfdl.xsd" description="Section 12 lengthKind-delimited - DFDL-12-042R">

		<tdml:document>1;2;3;4;5;6.</tdml:document>
		<tdml:infoset>
			<tdml:dfdlInfoset xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
				<NS_04>
					<num1>1</num1>
					<num1>2</num1>
					<num1>3</num1>
					<num1>4</num1>
					<num1>5</num1>
					<num2>6</num2>
				</NS_04>
			</tdml:dfdlInfoset>
		</tdml:infoset>
	</tdml:parserTestCase>
	
	<tdml:parserTestCase name="lengthKindDelimited_01" root="delim_01"
		model="lengthKindDelimited-Embedded.dfdl.xsd" description="Section 12 lengthKind-delimited - use space character (0x20) as %WSP; - DFDL-12-048R">

		<tdml:document>abcd  +
		  efg</tdml:document>
		<tdml:infoset>
			<tdml:dfdlInfoset xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
				<delim_01>
					<s1>abcd</s1>
					<s2>efg</s2>
				</delim_01>
			</tdml:dfdlInfoset>
		</tdml:infoset>
	</tdml:parserTestCase>
	
	<tdml:parserTestCase name="lengthKindDelimited_02" root="delim_01"
		model="lengthKindDelimited-Embedded.dfdl.xsd" description="Section 12 lengthKind-delimited - use tab character (0x09) as %WSP; - DFDL-12-048R">

		<tdml:document>abcd		+
				efg</tdml:document>
		<tdml:infoset>
			<tdml:dfdlInfoset xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
				<delim_01>
					<s1>abcd</s1>
					<s2>efg</s2>
				</delim_01>
			</tdml:dfdlInfoset>
		</tdml:infoset>
	</tdml:parserTestCase>
	
</tdml:testSuite>