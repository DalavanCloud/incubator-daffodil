<?xml version="1.0" encoding="UTF-8"?>
<tdml:testSuite xmlns:tdml="http://www.ibm.com/xmlns/dfdl/testData"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:dfdl="http://www.ogf.org/dfdl/dfdl-1.0/"
  xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:ex="http://example.com">

  <tdml:defineSchema name="hiddenGroupEmpty">
    <dfdl:format ref="ex:daffodilTest1" lengthKind="delimited" />
    <xs:group name="hg">
      <xs:sequence>
        <xs:element name="f" type="xs:int" />
      </xs:sequence>
    </xs:group>
    <xs:element name="e" dfdl:lengthKind="delimited">
      <xs:complexType>
        <xs:sequence dfdl:separator=",">
          <xs:sequence dfdl:hiddenGroupRef="" />
          <xs:element name="g" type="xs:int" />
        </xs:sequence>
      </xs:complexType>
    </xs:element>
  </tdml:defineSchema>

  <!--
    Test name: hiddenGroupEmpty
       Schema: hiddenGroupEmpty
      Purpose: This test demonstrates that a hidden group reference can be the empty string
  -->
  
  <tdml:parserTestCase name="hiddenGroupEmpty" root="e"
    model="hiddenGroupEmpty" description="Section 14 - Hidden Groups - DFDL-14-042R">
    <tdml:document>
      <tdml:documentPart type="text"><![CDATA[stringy,2]]></tdml:documentPart>
    </tdml:document>
    <tdml:infoset>
      <tdml:dfdlInfoset>
        <e>
          <g>2</g>
        </e>
      </tdml:dfdlInfoset>
    </tdml:infoset>
  </tdml:parserTestCase>

</tdml:testSuite>
