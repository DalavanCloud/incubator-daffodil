<?xml version="1.0" encoding="UTF-8"?>
<tdml:testSuite suiteName="EntitiesTests" description="Section 6 - Entities"
	xmlns:tdml="http://www.ibm.com/xmlns/dfdl/testData" 
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:dfdl="http://www.ogf.org/dfdl/dfdl-1.0/"
	xmlns:xs="http://www.w3.org/2001/XMLSchema"
	xmlns:ct="http://w3.ibm.com/xmlns/dfdl/ctInfoset" 
	xmlns:ex="http://example.com"
	xsi:schemaLocation="http://www.ibm.com/xmlns/dfdl/testData /xsd/tdml.xsd">

	<tdml:defineSchema name="DelimiterProperties-Embedded.dfdl.xsd">
		<dfdl:format initiator="" terminator="" leadingSkip="0" trailingSkip="0" separator="" encoding="utf-8" 
			occursCountKind="parsed" separatorPolicy="suppressed" textNumberRep="standard" ignoreCase="no"
			representation="text" lengthUnits="characters" lengthKind="delimited" />

		<xs:element name="DP_01" dfdl:lengthKind="implicit">
			<xs:complexType>
				<xs:sequence dfdl:initiatedContent="no" dfdl:separatorPosition="infix"
								dfdl:separator=":: || : $">
						<xs:element name="seq1">
							<xs:complexType>
								<xs:sequence dfdl:initiatedContent="yes" dfdl:separatorPosition="infix"
									dfdl:separator=",">
									<xs:element name="num1" type="xs:int" dfdl:initiator="+" maxOccurs="unbounded"/>	
								</xs:sequence>
							</xs:complexType>
						</xs:element>
						<xs:element name="seq2">
							<xs:complexType>
								<xs:sequence dfdl:initiatedContent="yes" dfdl:separatorPosition="infix"
									dfdl:separator=".">
									<xs:element name="num2" type="xs:int" dfdl:initiator="-" maxOccurs="unbounded"/>	
								</xs:sequence>
							</xs:complexType>
						</xs:element>
						<xs:element name="seq3">
							<xs:complexType>
								<xs:sequence dfdl:initiatedContent="yes" dfdl:initiator="{ {{ [" dfdl:terminator=") ] ]]" dfdl:separatorPosition="infix"
									dfdl:separator=";">
									<xs:element name="num3" type="xs:int" maxOccurs="unbounded"/>	
								</xs:sequence>
							</xs:complexType>
						</xs:element>
						<xs:element name="seq4">
							<xs:complexType>
								<xs:sequence dfdl:initiatedContent="no" dfdl:separatorPosition="infix"
									dfdl:separator="|">
									<xs:element name="num4" type="xs:int" maxOccurs="unbounded"/>	
								</xs:sequence>
							</xs:complexType>
						</xs:element>
				</xs:sequence>
			</xs:complexType>
		</xs:element>
	</tdml:defineSchema>

		<tdml:parserTestCase name="DelimProp_01"
			model="DelimiterProperties-Embedded.dfdl.xsd" description="Section 14 Sequence groups with delimiters, a whitespace separated list of initiators and terminators - DFDL-12-032R"
			root="DP_01">
			<tdml:document>+1,+2,+3,+4:-5.-6.-7.-8${{9;10;11;12]]::13|14|15|16||</tdml:document>
			<tdml:infoset>
			<tdml:dfdlInfoset xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
				<DP_01>
					<seq1>
						<num1>1</num1>
						<num1>2</num1>
						<num1>3</num1>
						<num1>4</num1>
					</seq1>
					<seq2>
						<num2>5</num2>
						<num2>6</num2>
						<num2>7</num2>
						<num2>8</num2>
					</seq2>
					<seq3>
						<num3>9</num3>
						<num3>10</num3>
						<num3>11</num3>
						<num3>12</num3>
					</seq3>
					<seq4>
						<num4>13</num4>
						<num4>14</num4>
						<num4>15</num4>
						<num4>16</num4>
					</seq4>
				</DP_01>
			</tdml:dfdlInfoset>
			</tdml:infoset>
		</tdml:parserTestCase>
		
		<tdml:defineSchema name="basic">     
		
			<dfdl:format separatorPolicy="required" separatorPosition="infix" ref="ex:daffodilTest1"/>
			
		      <xs:element name="e2" dfdl:initiator="[" dfdl:terminator="]">
		        <xs:complexType>
		          <xs:sequence dfdl:separator="," dfdl:initiator="{" dfdl:terminator="}">
		            <xs:element name="s1" type="xs:string" dfdl:initiator="(" dfdl:terminator=")" dfdl:lengthKind="explicit" dfdl:length="{ 1 }" dfdl:occursCountKind="fixed" minOccurs="3" maxOccurs="3"/>
		          </xs:sequence>
		        </xs:complexType>
		      </xs:element>
		      
		      <xs:element name="e1" dfdl:initiator="[more[" dfdl:terminator="]nomore]">
		        <xs:complexType>
		          <xs:sequence dfdl:separator=",," dfdl:initiator="{{" dfdl:terminator="}}">
		            <xs:element name="s1" type="xs:string" dfdl:initiator="((" dfdl:terminator="))" dfdl:lengthKind="explicit" dfdl:length="{ 1 + 1 }" dfdl:occursCountKind="fixed" minOccurs="3" maxOccurs="3"/>
		          </xs:sequence>
		        </xs:complexType>
		      </xs:element>
		      
		</tdml:defineSchema>
		
		<tdml:parserTestCase name="ParseSequence4" root="e2"
		model="basic" description="Section 14 Sequence groups with delimiters - DFDL-12-032R">

			<tdml:document>[{(5),(6),(7)}]</tdml:document>
			<tdml:infoset>
				<tdml:dfdlInfoset xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<e2>
						<s1>5</s1>
						<s1>6</s1>
						<s1>7</s1>
					</e2>
				</tdml:dfdlInfoset>
			</tdml:infoset>
		</tdml:parserTestCase>
		
		<tdml:parserTestCase name="ParseSequence5" root="e1"
		model="basic" description="Section 14 Sequence groups with delimiters - DFDL-12-032R">

			<tdml:document>[more[{{((55)),,((66)),,((77))}}]nomore]</tdml:document>
			<tdml:infoset>
				<tdml:dfdlInfoset xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<e1>
						<s1>55</s1>
						<s1>66</s1>
						<s1>77</s1>
					</e1>
				</tdml:dfdlInfoset>
			</tdml:infoset>
		</tdml:parserTestCase>
	
</tdml:testSuite>