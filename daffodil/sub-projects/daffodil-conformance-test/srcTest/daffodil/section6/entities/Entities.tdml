<?xml version="1.0" encoding="UTF-8"?>
<tdml:testSuite suiteName="EntitiesTests" description="Section 6 - Entities"
	xmlns:tdml="http://www.ibm.com/xmlns/dfdl/testData" 
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:dfdl="http://www.ogf.org/dfdl/dfdl-1.0/"
	xmlns:xs="http://www.w3.org/2001/XMLSchema"
	xmlns:ct="http://w3.ibm.com/xmlns/dfdl/ctInfoset" 
	xsi:schemaLocation="http://www.ibm.com/xmlns/dfdl/testData /xsd/tdml.xsd">

	<tdml:defineSchema name="Entities-Embedded.dfdl.xsd">
	
			<dfdl:format ref="rdefFormat" encoding="utf-8" byteOrder="bigEndian"
				ignoreCase="no" textStringJustification="left"
				textStringPadCharacter="0" textTrimKind="none" textPadKind="none"
				documentFinalTerminatorCanBeMissing="no" nilValueDelimiterPolicy="none"
				emptyValueDelimiterPolicy="none" escapeSchemeRef="" />

			<dfdl:defineFormat name="rdefFormat">
				<dfdl:format initiator="" terminator="" leadingSkip="0" trailingSkip="0" separator="" textBidi="no" floating="no"   encoding="ascii" byteOrder="bigEndian"
					ignoreCase="no" outputNewLine="%LF;"
					truncateSpecifiedLengthString="no" decimalSigned="yes" alignment="1"
					alignmentUnits="bytes" fillByte="1" occursCountKind="implicit" escapeSchemeRef=""
					representation="text" lengthUnits="characters" lengthKind="explicit" />
			</dfdl:defineFormat>


	<xs:element name="element2" type="xs:string" dfdl:initiator="%SP;"
		dfdl:terminator="%LS;" dfdl:length="2">

	</xs:element>
	
	</tdml:defineSchema>

	<tdml:parserTestCase name="text_entities_6_02"
		description="Section 6.3 DFDL Character Entities - single DFDLEntityName in initiator and terminator - SP and LS, the later 
is multiple bytes in UTF-8 encoding that is used"
		model="Entities-Embedded.dfdl.xsd" root="element2">
		<tdml:document><tdml:documentPart type="text"><![CDATA[ abâ€¨]]></tdml:documentPart></tdml:document>
		<tdml:infoset>
			<tdml:dfdlInfoset xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
				<element2>ab</element2>
			</tdml:dfdlInfoset>

		</tdml:infoset>
	</tdml:parserTestCase>
	
	<tdml:parserTestCase name="syntax_entities_6_02"
		description="Section 6.3 DFDL Character Entities - single DFDLEntityName in initiator and terminator - SP and LS, the later 
is multiple bytes in UTF-8 encoding that is used - DFDL-6-042R"
		model="Entities-Embedded.dfdl.xsd" root="element2">
		<tdml:document><tdml:documentPart type="byte">206162E280A8</tdml:documentPart></tdml:document>
		<tdml:infoset>
			<tdml:dfdlInfoset xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
				<element2>ab</element2>
			</tdml:dfdlInfoset>

		</tdml:infoset>
	</tdml:parserTestCase>
	
</tdml:testSuite>